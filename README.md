
# ฺฉุงูุงูู | KalaNow - ูุฑูุดฺฏุงู ุงูุชุฑูุช

ุงู ูพุฑูฺู ฺฉ ูุฑูุดฺฏุงู ุงูุชุฑูุช ฺฉุงูู ุจุง ูพูู ฺฉุงุฑุจุฑ ู ูพูู ูุฏุฑุช ูุฌุฒุง ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ Next.js (JavaScript), Node.js (ุจุฑุง APIูุง ุณูุช ุณุฑูุฑ ฺฉู ุฏุฑ ุงู ูุณุฎู ูุณุชููุงู ุฏุฑ Next.js Server Actions ูพุงุฏูโุณุงุฒ ุดุฏู) ู ูพุงฺฏุงู ุฏุงุฏู MySQL ุชูุณุนู ุงูุชู ุงุณุช.

**ุชูุฌู:** ุงู ูพุฑูฺู ุงุฒ ูฺโฺฉ ุงุฒ ุณุฑูุณโูุง Firebase ุงุณุชูุงุฏู ููโฺฉูุฏ ู ุชูุงูุงู ุจุฑ ุงุณุงุณ MySQL ู ุงุญุฑุงุฒ ููุช ูุจุชู ุจุฑ Session/Cookie (ุจุฑุง ุงุฏูู) ู OTP (ุจุฑุง ฺฉุงุฑุจุฑุงู) ฺฉุงุฑ ูโฺฉูุฏ.

## ๐ ุฑุงูโุงูุฏุงุฒ ู ูุตุจ (ูุญุท ููฺฉุงู)

1.  **ฺฉููู ฺฉุฑุฏู ุฑูพุงุฒุชูุฑ:**
    ```bash
    git clone <your-repository-url>
    cd kalanow
    ```

2.  **ูุตุจ ูุงุจุณุชฺฏโูุง:**
    ```bash
    npm install
    # ุง ุงฺฏุฑ ุงุฒ yarn ุงุณุชูุงุฏู ูโฺฉูุฏ:
    # yarn install
    ```

3.  **ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏู MySQL:**
    *   ฺฉ ูพุงฺฏุงู ุฏุงุฏู ุฌุฏุฏ ุฏุฑ MySQL ุงุฌุงุฏ ฺฉูุฏ (ูุซูุงู ุจุง ูุงู `kalanow_db`).
    *   ูุงู `database_dump.sql` ููุฌูุฏ ุฏุฑ ุฑุดู ูพุฑูฺู ุฑุง ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู ุฎูุฏ ุงููพูุฑุช ฺฉูุฏ. ุงู ูุงู ุดุงูู ุณุงุฎุชุงุฑ ุฌุฏุงูู ุงูููุ ฺฉุงุฑุจุฑ ุงุฏูู ูพุดโูุฑุถ ู ูุญุตููุงุช ููููู ุงุณุช.
        ```bash
        mysql -u <your_username> -p kalanow_db < database_dump.sql
        ```
        (ูุงู ฺฉุงุฑุจุฑ ู ูุงู ุฏุชุงุจุณ ุฎูุฏ ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ)

4.  **ุชูุธู ูุชุบุฑูุง ูุญุท:**
    *   ูุงู `.env.example` ุฑุง ุจู `.env.local` ฺฉูพ ฺฉูุฏ:
        ```bash
        cp .env.example .env.local
        ```
    *   ููุงุฏุฑ ููุฌูุฏ ุฏุฑ `.env.local` ุฑุง ุจุง ุงุทูุงุนุงุช ุตุญุญ ูพุงฺฏุงู ุฏุงุฏู MySQL ู ุณุงุฑ ุชูุธูุงุช ููุฑุฏ ูุงุฒ ุฎูุฏ ูพุฑ ฺฉูุฏ. ุจู ูุงู `.env.example` ุจุฑุง ูุณุช ฺฉุงูู ูุชุบุฑูุง ูุฑุงุฌุนู ฺฉูุฏ. ูููุชุฑู ูุชุบุฑูุง:
        *   `DB_HOST`, `DB_PORT`, `DB_USER`, `DB_PASSWORD`, `DB_NAME`
        *   `ADMIN_USERNAME`, `ADMIN_PASSWORD`
        *   `JWT_SECRET` (ฺฉ ฺฉูุฏ ูุฎู ูู ุจุฑุง ุณุดูโูุง ุงุฏูู)
        *   `SMS_API_KEY`, `SMS_SENDER_NUMBER` (ุจุฑุง ูพูู ูพุงูฺฉุ ูุซูุงู Kavenegar)
        *   `PAYMENT_GATEWAY_MERCHANT_ID`, `PAYMENT_GATEWAY_CALLBACK_URL` (ุจุฑุง ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช)
        *   `ADMIN_NOTIFICATION_PHONE`, `ADMIN_NOTIFICATION_EMAIL` (ุจุฑุง ุงุทูุงุนโุฑุณุงู ุจู ูุฏุฑ)

5.  **ุงุฌุฑุง ุจุฑูุงูู ุฏุฑ ุญุงูุช ุชูุณุนู (Development):**
    ```bash
    npm run dev
    ```
    ุจุฑูุงูู ุฏุฑ ุขุฏุฑุณ `http://localhost:9002` (ุง ูพูุฑุช ูพุดโูุฑุถ Next.js ุงฺฏุฑ ูุชุบุฑ ูุญุท `PORT` ุชูุณุท ุณุณุชู ุชูุธู ูุดุฏู ุจุงุดุฏ) ูุงุจู ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ. ุงุณฺฉุฑูพุช `dev` ุฏุฑ `package.json` ุจู ุงู ุตูุฑุช ุชูุธู ุดุฏู ุงุณุช: `"next dev --turbopack -p ${PORT:-9002}"`

    **ุงุฌุฑุง ุจุง PM2 ุฏุฑ ุญุงูุช ุชูุณุนู (ุงุฎุชุงุฑ):**
    ูโุชูุงูุฏ ุงุฒ ูุงู `process.dev.yml` ุจุฑุง ุงุฌุฑุง ุจุฑูุงูู ุจุง PM2 ุฏุฑ ุญุงูุช ุชูุณุนู ุงุณุชูุงุฏู ฺฉูุฏ (ููุงุณุจ ุจุฑุง ุชุณุช ุฑู VPS ุฏุฑ ุญุงูุช ุชูุณุนู):
    ```bash
    pm2 start process.dev.yml
    ```
    ูุทูุฆู ุดูุฏ ูุณุฑ `cwd` ุฏุฑ `process.dev.yml` ุจู ุฑุดู ูพุฑูฺู ุดูุง ุงุดุงุฑู ุฏุงุฑุฏ (ูุนูููุงู `./` ุงฺฏุฑ ุงุฒ ุฑุดู ูพุฑูฺู ุงุฌุฑุง ูโฺฉูุฏ).

## ๐ฆ ุงูุชุดุงุฑ ูพุฑูฺู (Deployment)

### ฑ. ุงูุชุดุงุฑ ุฏุฑ ูุญุท ูพุฑูุฏุงฺฉุดู ุฑู ุณุฑูุฑ ูุฌุงุฒ (VPS) ุจุง Nginx ู PM2

ุงู ุฑุงูููุง ูุฑุถ ูโฺฉูุฏ ุดูุง ุจู ุณุฑูุฑ ูุฌุงุฒ (VPS) ุจุง ุณุณุชู ุนุงูู ูููฺฉุณ (ูุงููุฏ Ubuntu) ุฏุณุชุฑุณ SSH ุฏุงุฑุฏ.

1.  **ุขูุงุฏูโุณุงุฒ ุณุฑูุฑ:**
    *   **ุงุชุตุงู ุจู ุณุฑูุฑ:** ุงุฒ ุทุฑู SSH ุจู VPS ุฎูุฏ ูุชุตู ุดูุฏ.
    *   **ูุตุจ Node.js ู npm/yarn:** (ุชูุตู ูโุดูุฏ ุงุฒ ุขุฎุฑู ูุณุฎู LTS Node.js ุงุณุชูุงุฏู ฺฉูุฏุ ูุซูุง 20.x)
        ```bash
        # ูุซุงู ุจุฑุง ูุตุจ Node.js 20.x ุฏุฑ ุงูุจููุชู
        curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
        sudo apt-get install -y nodejs
        # ุจุฑุฑุณ ูุณุฎูโูุง
        node -v
        npm -v
        ```
    *   **ูุตุจ PM2:** (ุจุฑุง ูุฏุฑุช ูุฑุขูุฏ Node.js)
        ```bash
        sudo npm install pm2 -g
        ```
    *   **ูุตุจ Nginx:** (ุจู ุนููุงู Reverse Proxy)
        ```bash
        sudo apt update
        sudo apt install nginx
        ```
    *   **ูุตุจ MySQL Server (ุงฺฏุฑ ุฏุชุงุจุณ ุฑู ููู ุณุฑูุฑ ุงุณุช):**
        ```bash
        sudo apt install mysql-server
        sudo mysql_secure_installation # ุจุฑุง ุชูุธูุงุช ุงููุช ุงููู
        ```

2.  **ุขูพููุฏ ูพุฑูฺู ุจู ุณุฑูุฑ:**
    *   ูพุฑูฺู ุฎูุฏ ุฑุง ุงุฒ ุทุฑู `git clone` ุง ุงุจุฒุงุฑูุง ูุงููุฏ `scp` ุง `rsync` ุจู ุณุฑูุฑ ููุชูู ฺฉูุฏ (ูุซูุงู ุฏุฑ ูพูุดู `/var/www/kalanow`).
    *   ูพูุดูโูุง `node_modules` ู `.next` (ุงฺฏุฑ ูุฌูุฏ ุฏุงุฑูุฏ) ุฑุง ุขูพููุฏ ูฺฉูุฏ.

3.  **ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏู MySQL ุฑู ุณุฑูุฑ (ุฏุฑ ุตูุฑุช ูุงุฒ):**
    *   ูุงุฑุฏ MySQL ุดูุฏ: `sudo mysql -u root -p`
    *   ฺฉ ุฏุชุงุจุณ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ: `CREATE DATABASE kalanow_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;`
    *   ฺฉ ฺฉุงุฑุจุฑ ุฌุฏุฏ ุจุฑุง ุฏุชุงุจุณ ุงุฌุงุฏ ฺฉุฑุฏู ู ุฏุณุชุฑุณโูุง ูุงุฒู ุฑุง ุจุฏูุฏ:
        ```sql
        CREATE USER 'kalanow_user'@'localhost' IDENTIFIED BY 'your_strong_password';
        GRANT ALL PRIVILEGES ON kalanow_db.* TO 'kalanow_user'@'localhost';
        FLUSH PRIVILEGES;
        EXIT;
        ```
    *   ูุงู `database_dump.sql` ุฑุง ุจู ุณุฑูุฑ ููุชูู ฺฉุฑุฏู ู ุฏุฑ ุฏุชุงุจุณ ุงููพูุฑุช ฺฉูุฏ:
        ```bash
        mysql -u kalanow_user -p kalanow_db < /path/to/your/database_dump.sql
        ```

4.  **ุชูุธู ูุชุบุฑูุง ูุญุท ุณุฑูุฑ:**
    *   ุฏุฑ ูุณุฑ ูพุฑูฺู ุฑู ุณุฑูุฑ (ูุซูุงู `/var/www/kalanow`)ุ ฺฉ ูุงู `.env.production` ุงุฌุงุฏ ฺฉูุฏ ู ุชูุงู ูุชุบุฑูุง ูุญุท ูุงุฒู (ูุงููุฏ ุงุทูุงุนุงุช ุงุชุตุงู ุจู ุฏุชุงุจุณุ `NODE_ENV=production`, `PORT=9002` (ุง ูุฑ ูพูุฑุช ุฏูุฎูุงู ุฏฺฏุฑ ฺฉู Next.js ุฑู ุขู ุงุฌุฑุง ูโุดูุฏ)ุ `JWT_SECRET` ูู ู ุณุงุฑ ฺฉูุฏูุง API) ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ.
    *   **ููู:** ูุทูุฆู ุดูุฏ ูพูุฑุช ฺฉู ุงูพูฺฉุดู Next.js ุฑู ุขู ุงุฌุฑุง ูโุดูุฏ (ูุซูุงู 9002) ุจุง ูพูุฑุช ฺฉู ุฏุฑ ุชูุธูุงุช Nginx ุจู ุนููุงู `proxy_pass` ุงุณุชูุงุฏู ูโฺฉูุฏุ ููุงููฺฏ ุจุงุดุฏ.

5.  **ูุตุจ ูุงุจุณุชฺฏโูุง ู Build ูพุฑูฺู:**
    *   ูุงุฑุฏ ูพูุดู ูพุฑูฺู ุฑู ุณุฑูุฑ ุดูุฏ: `cd /var/www/kalanow`
    *   ูุงุจุณุชฺฏโูุง ุฑุง ูุตุจ ฺฉูุฏ:
        ```bash
        npm install --production
        ```
    *   ูพุฑูฺู ุฑุง Build ฺฉูุฏ:
        ```bash
        npm run build
        ```
        ุงู ุฏุณุชูุฑ ูพูุดู `.next` ุฑุง ุจุฑุง ูุญุท ูพุฑูุฏุงฺฉุดู ุงุฌุงุฏ ูโฺฉูุฏ.

6.  **ุงุฌุฑุง ุจุฑูุงูู ุจุง PM2:**
    *   ฺฉ ูุงู ูพฺฉุฑุจูุฏ ุจุฑุง PM2 ุงุฌุงุฏ ฺฉูุฏุ ูุซูุงู `ecosystem.config.js` (ุง `process.prod.yml`) ุฏุฑ ุฑุดู ูพุฑูฺู ุฑู ุณุฑูุฑ:
        ```javascript
        // ecosystem.config.js
        module.exports = {
          apps : [{
            name   : "kalanow-app-prod", // ูุงู ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง PM2
            script : "npm",
            args   : "start", // ุงู ุงุณฺฉุฑูพุช 'next start -p $PORT' ุฑุง ุงุฒ package.json ุงุฌุฑุง ูโฺฉูุฏ
            cwd    : "/var/www/kalanow", // ูุณุฑ ุตุญุญ ูพุฑูฺู ุดูุง
            instances: "max", // ุง ุชุนุฏุงุฏ ูุณุชูโูุง ููุฑุฏ ูุธุฑ
            exec_mode: "cluster",
            autorestart: true,
            watch: false, // ุฏุฑ ูพุฑูุฏุงฺฉุดู ูุนูููุงู false ุงุณุช
            env: {
              NODE_ENV: "production",
              PORT: 9002 // ูพูุฑุช ฺฉู Next.js ุฑู ุขู ุงุฌุฑุง ูโุดูุฏ (ุจุงุฏ ุจุง package.json ููุงููฺฏ ุจุงุดุฏ)
            }
          }]
        }
        ```
        **ุชูุฌู:** ููุฏุงุฑ `PORT` ุฏุฑ `env` ุจุงุฏ ุจุง ูพูุฑุช ฺฉู `npm start` (ุงุฒ `package.json`) ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉุณุงู ุจุงุดุฏ. ุงฺฏุฑ ุงุณฺฉุฑูพุช `start` ุดูุง ุจู ุงู ุดฺฉู ุงุณุช: `"start": "next start -p ${PORT:-9002}"`ุ PM2 ูุชุบุฑ `PORT` ุฑุง ุชูุธู ุฎูุงูุฏ ฺฉุฑุฏ.
    *   ุงูพูฺฉุดู ุฑุง ุจุง PM2 ุงุฌุฑุง ฺฉูุฏ:
        ```bash
        pm2 start ecosystem.config.js
        ```
    *   ุจุฑุง ุงูฺฉู PM2 ูพุณ ุงุฒ ุฑุจูุช ุณุฑูุฑ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงุฌุฑุง ุดูุฏ:
        ```bash
        pm2 startup
        # ุฏุณุชูุฑ ฺฉู ููุงุด ุฏุงุฏู ูโุดูุฏ ุฑุง ฺฉูพ ู ุงุฌุฑุง ฺฉูุฏ (ูุนูููุงู ุจุง sudo)
        pm2 save
        ```
    *   ุจุฑุง ูุดุงูุฏู ูุงฺฏโูุง: `pm2 logs kalanow-app-prod`

7.  **ูพฺฉุฑุจูุฏ Nginx ุจู ุนููุงู Reverse Proxy:**
    *   ฺฉ ูุงู ฺฉุงููฺฏ ุฌุฏุฏ ุจุฑุง ุณุงุช ุฎูุฏ ุฏุฑ Nginx ุงุฌุงุฏ ฺฉูุฏ (ูุซูุงู `/etc/nginx/sites-available/kalanow`):
        ```nginx
        server {
            listen 80;
            listen [::]:80; # ุจุฑุง IPv6

            server_name your_domain.com www.your_domain.com; # ุฏุงููู ุฎูุฏ ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ

            # ุจุฑุง ูุงูโูุง ุญุฌู (ุงุฎุชุงุฑ)
            client_max_body_size 20M;

            location / {
                proxy_pass http://localhost:9002; # ูพูุฑุช ฺฉู ุงูพูฺฉุดู Next.js ุฑู ุขู ุงุฌุฑุง ูโุดูุฏ
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection 'upgrade';
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
                proxy_cache_bypass $http_upgrade;
            }

            # ุจุฑุง ูุงูโูุง ุงุณุชุงุชฺฉ Next.js (ุจูุจูุฏ ุนููฺฉุฑุฏ)
            location /_next/static {
                alias /var/www/kalanow/.next/static; # ูุณุฑ ุตุญุญ ุจู ูพูุดู static ูพุฑูฺู ุดูุง
                expires 1y;
                access_log off;
                add_header Cache-Control "public, must-revalidate";
            }

            location /static { # ุงฺฏุฑ ูุงูโูุง ุฏฺฏุฑ ุฏุฑ public/static ุฏุงุฑุฏ
                alias /var/www/kalanow/public/static;
                expires 1y;
                access_log off;
                add_header Cache-Control "public, must-revalidate";
            }
             location /uploads { # ุจุฑุง ุฏุณุชุฑุณ ุจู ุชุตุงูุฑ ุขูพููุฏ ุดุฏู
                alias /var/www/kalanow/public/uploads;
                expires 1y;
                access_log off;
                add_header Cache-Control "public, must-revalidate";
            }
        }
        ```
        **ููู:** `your_domain.com`ุ `localhost:9002` ู ูุณุฑูุง `alias` ุฑุง ุจุง ููุงุฏุฑ ุตุญุญ ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ.
    *   ฺฉ ููฺฉ ุณูุจููฺฉ ุจุฑุง ูุนุงู ฺฉุฑุฏู ุณุงุช ุงุฌุงุฏ ฺฉูุฏ:
        ```bash
        sudo ln -s /etc/nginx/sites-available/kalanow /etc/nginx/sites-enabled/
        ```
    *   ฺฉุงููฺฏ Nginx ุฑุง ุชุณุช ฺฉูุฏ: `sudo nginx -t`
    *   ุงฺฏุฑ ุชุณุช ูููู ุจูุฏุ Nginx ุฑุง ุฑโุงุณุชุงุฑุช ฺฉูุฏ: `sudo systemctl restart nginx`

8.  **ูพฺฉุฑุจูุฏ ูุงุฑูุงู (ูุซูุงู UFW):**
    *   ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ูพูุฑุชโูุง HTTP (80) ู HTTPS (443) ู SSH ุฑุง ุจุฏูุฏ:
        ```bash
        sudo ufw allow 'Nginx Full'
        sudo ufw allow OpenSSH
        sudo ufw enable
        sudo ufw status
        ```

9.  **(ุงุฎุชุงุฑ) ุชูุธู SSL ุจุง Let's Encrypt:**
    *   Certbot ุฑุง ูุตุจ ฺฉูุฏ: `sudo apt install certbot python3-certbot-nginx`
    *   ฺฏูุงู SSL ุฑุง ุฏุฑุงูุช ู Nginx ุฑุง ูพฺฉุฑุจูุฏ ฺฉูุฏ:
        ```bash
        sudo certbot --nginx -d your_domain.com -d www.your_domain.com
        ```
    *   ุฏุณุชูุฑุงูุนููโูุง ุฑุง ุฏูุจุงู ฺฉูุฏ. Certbot ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชูุธูุงุช Nginx ุดูุง ุฑุง ุจุฑุง HTTPS ุจูโุฑูุฒ ูโฺฉูุฏ.

10. **ุจุฑุฑุณ ููุง:**
    *   ูุจโุณุงุช ุฎูุฏ ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ. ุชูุงู ุจุฎุดโูุง ุฑุง ุชุณุช ฺฉูุฏ.

**ุนุจโุงุจ:**
*   **ูุงฺฏโูุง PM2:** `pm2 logs kalanow-app-prod`
*   **ูุงฺฏโูุง Nginx:** ูุนูููุงู ุฏุฑ `/var/log/nginx/error.log` ู `/var/log/nginx/access.log`.
*   **ูุถุนุช ุณุฑูุณโูุง:** `sudo systemctl status nginx`, `sudo systemctl status mysql`, `pm2 list`.

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุงฺฏุงู ุฏุงุฏู (MySQL)

ูุงู `database_dump.sql` ุดุงูู ุณุงุฎุชุงุฑ ู ุฏุงุฏูโูุง ููููู ุจุฑุง ุฌุฏุงูู ุฒุฑ ุงุณุช (ูุณุช ููฺฉู ุงุณุช ฺฉุงูู ูุจุงุดุฏ ู ุจุฑ ุงุณุงุณ ุขุฎุฑู ุชุบุฑุงุช ูพุฑูฺู ุงุณุช):

*   `users`: ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู (ุดุงูู ูุงูุ ูุงู ุฎุงููุงุฏฺฏุ ููุจุงูุ ฺฉุฏ ููุ ุขุฏุฑุณุ ฺฉุฏ ูพุณุชุ ุชุงุฑุฎ ุชููุฏุ ฺฉุฏ ูุนุฑูุ ูุนุฑูุ ููุฌูุฏ ฺฉู ูพููุ ููุดุ ุชุงุฑุฎ ุงุฌุงุฏ ู ...)
*   `products`: ุงุทูุงุนุงุช ูุญุตููุงุช (ูุงูุ ุชูุถุญุงุชุ ููุชโูุงุ ููุฌูุฏุ ุชุตุงูุฑุ ุฏุณุชูโุจูุฏ ู ...)
*   `categories`: ุฏุณุชูโุจูุฏ ูุญุตููุงุช (ูุงูุ ุงุณูุงฺฏุ ูุงูุฏุ ุชุตูุฑุ ุชุฑุชุจ ููุงุดุ ูุนุงู ุจูุฏู)
*   `orders`: ุณูุงุฑุดุงุช ุซุจุชโุดุฏู (ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุ ูุญุตููุงุชุ ูุจูุบ ฺฉูุ ูุถุนุชุ ุขุฏุฑุณุ ุฑูุด ูพุฑุฏุงุฎุชุ ุฌุฒุฆุงุช ูพุฑุฏุงุฎุชุ ฺฉุฏ ฺฉููพู)
*   `order_items`: ุฌุฒุฆุงุช ุขุชูโูุง ูุฑ ุณูุงุฑุด (ุงู ุฌุฏูู ุฏุฑ `database_dump.sql` ูุนู ุจู ุตูุฑุช ูุณุชูู ุงุฌุงุฏ ูุดุฏู ู ุงุทูุงุนุงุช ุขุชูโูุง ุจู ุตูุฑุช JSON ุฏุฑ ุฌุฏูู `orders` ุฐุฎุฑู ูโุดูุฏ. ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ฺฏุฒุงุฑุดโฺฏุฑ ูพุดุฑูุชูุ ุงู ุฌุฏูู ุจุงุฏ ุงุฌุงุฏ ุดูุฏ.)
*   `coupons`: ฺฉููพูโูุง ุชุฎูู (ฺฉุฏุ ููุนุ ููุฏุงุฑุ ุชุงุฑุฎ ุงููุถุงุ ูุญุฏูุฏุช ุงุณุชูุงุฏูุ ุชุนุฏุงุฏ ุงุณุชูุงุฏู ุดุฏู)
*   `transactions`: ุชุฑุงฺฉูุดโูุง ฺฉู ูพูู ฺฉุงุฑุจุฑุงู (ูุงุฑุฒุ ุจุฑุฏุงุดุชุ ุฎุฑุฏุ ูพูุฑุณุงูุชุ ุฏุฑุฎูุงุณุช ุชุณูู)
*   `banners`: ุจูุฑูุง ุตูุญู ุงุตู (ุชุตูุฑ ุฏุณฺฉุชุงูพ ู ููุจุงูุ ููฺฉุ ุชุฑุชุจ ููุงุดุ ูุนุงู ุจูุฏู)
*   `landing_pages`: ููุฏูฺฏ ูพุฌโูุง ฺฉููพูโูุง (ุนููุงูุ ุงุณูุงฺฏุ ูุญุชูุงุ ูุนุงู ุจูุฏู)
*   `sms_logs`: ุชุงุฑุฎฺู ูพุงูฺฉโูุง ุงุฑุณุงู (ฺฏุฑูุฏูุ ูุญุชูุงุ ูุถุนุชุ ุดูุงุณู ุงุฑุงุฆูโุฏููุฏู)
*   `email_logs`: ุชุงุฑุฎฺู ุงููโูุง ุงุฑุณุงู (ฺฏุฑูุฏูุ ููุถูุนุ ูุถุนุช)
*   `settings`: ุชูุธูุงุช ฺฉู ุณุงุชุ ูพูุฑุณุงูุชุ ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ู ูพุงูฺฉ (ุจูโุตูุฑุช key-value ุง ฺฉ ุฑุฏู ุจุง ุณุชููโูุง ูุชุนุฏุฏ)
*   `info_pages`: ุตูุญุงุช ุงุทูุงุนุงุช (ุฏุฑุจุงุฑู ูุงุ ุชูุงุณ ุจุง ูุงุ ููุงูู ู ...)
*   `otp_codes`: ุจุฑุง ุฐุฎุฑู ฺฉุฏูุง ฺฉุจุงุฑ ูุตุฑู ุงุญุฑุงุฒ ููุช (ุดุงูู ุดูุงุฑู ููุจุงูุ ฺฉุฏุ ุชุงุฑุฎ ุงููุถุงุ ุงุณุชูุงุฏู ุดุฏู)
*   `tickets`: ุจุฑุง ุณุณุชู ุชฺฉุชูฺฏ ูพุดุชุจุงู (ฺฉุงุฑุจุฑุ ููุถูุนุ ูุถุนุชุ ุงูููุช)
*   `ticket_messages`: ุจุฑุง ูพุงูโูุง ูุฑ ุชฺฉุช (ุงุฑุณุงูโฺฉููุฏูุ ูพุงูุ ุชุงุฑุฎ)

## ๐ ุณุทุญ ุฏุณุชุฑุณโูุง

*   **ฺฉุงุฑุจุฑ ุนุงุฏ:** ุฏุณุชุฑุณ ุจู ูพูู ฺฉุงุฑุจุฑ (`/user/*`)ุ ุซุจุช ุณูุงุฑุดุ ูุดุงูุฏู ุงุทูุงุนุงุช ุฎูุฏุ ุงุฑุณุงู ุชฺฉุช.
*   **ุงุฏูู:** ุฏุณุชุฑุณ ฺฉุงูู ุจู ูพูู ูุฏุฑุช (`/admin/*`). (ููุดโูุง ุฏููโุชุฑ ูุงููุฏ ูุฏุฑ ูุญุตููุ ูุฏุฑ ูุงู ู... ูุงุจู ูพุงุฏูโุณุงุฒ ุงุณุช).

## ๐ ูุณุฑูุง ููู

(ูุณุช ฺฉุงูู ูุณุฑูุง ุฏุฑ ูุงู `route.txt` ููุฌูุฏ ุงุณุช)

## โจ ุงูุฒูุฏู ุงุฏูู ุฌุฏุฏ

ุงุฏูู ูพุดโูุฑุถ ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ฺฉู ุฏุฑ ูุชุบุฑูุง ูุญุท (`ADMIN_USERNAME` ู `ADMIN_PASSWORD`) ุง ูุณุชููุงู ุฏุฑ ุงฺฉุดู ูุงฺฏู ุงุฏูู (`src/app/actions.ts`) ุชุนุฑู ุดุฏูุ ูุงุจู ุงุณุชูุงุฏู ุงุณุช. ุฏุฑ ุญุงู ุญุงุถุฑุ ุณุณุชู ุงุฒ ุฌุฏูู ูุฌุฒุง `admins` ุงุณุชูุงุฏู ููโฺฉูุฏ ู ุงุญุฑุงุฒ ููุช ุงุฏูู ุจุง ููุงุฏุฑ ุซุงุจุช ุงูุฌุงู ูโุดูุฏ. ุจุฑุง ุงููุช ุจุดุชุฑ ุฏุฑ ูุญุท ูพุฑูุฏุงฺฉุดูุ ุชูุตู ูโุดูุฏ ุฑูุฒ ุนุจูุฑ ุงุฏูู ุฑุง ุฏุฑ ูุชุบุฑูุง ูุญุท ุณุฑูุฑ ุชูุธู ฺฉูุฏ ู ุขู ุฑุง ูพฺุฏู ุงูุชุฎุงุจ ููุงุฏ.

## ๐ ุณุงุฎุช ููุฏูฺฏ ูพุฌ

ุงุฒ ุจุฎุด "ูุฏุฑุช ููุฏูฺฏ ูพุฌโูุง" ุฏุฑ ูพูู ุงุฏูู ูโุชูุงูุฏ ุตูุญุงุช ฺฉููพู ุณูุงุฑุด ุจุง ูุญุชูุง ุฏูุฎูุงู ุงุฌุงุฏ ฺฉูุฏ. ุขุฏุฑุณ ุงู ุตูุญุงุช ุจูโุตูุฑุช `/landing/{slug}` ุฎูุงูุฏ ุจูุฏ ฺฉู `{slug}` ุดูุงุณูโ ููุญุตุฑ ุจู ูุฑุฏ ูุฑ ููุฏูฺฏ ุงุณุช. (ุงู ุจุฎุด ูุงุฒ ุจู ุชฺฉูู ูุฑู ู ุงฺฉุดูโูุง ูุฑุจูุทู ุฏุฑ ูพูู ุงุฏูู ุฏุงุฑุฏ).

## ๐ก๏ธ ูฺฉุงุช ุงููุช ู ุชูุณุนู

*   **ุฑูุฒูุง ุนุจูุฑ:** ุญุชูุงู ุฑูุฒ ุนุจูุฑ ุงุฏููโูุง ุฑุง ูพฺุฏู ุงูุชุฎุงุจ ฺฉูุฏ ู ุฏุฑ ูุชุบุฑูุง ูุญุท ุณุฑูุฑ ูฺฏูุฏุงุฑ ฺฉูุฏ.
*   **ุงุนุชุจุงุฑุณูุฌ:** ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง ุฑุง ูู ุฏุฑ ุณูุช ฺฉูุงูุช (ุจุฑุง ุจูุจูุฏ ุชุฌุฑุจู ฺฉุงุฑุจุฑ) ู ูู ุฏุฑ ุณูุช ุณุฑูุฑ (ุจุฑุง ุงููุช) ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงููโุง ูุงููุฏ Zod ุงูุฌุงู ุฏูุฏ.
*   **ูุชุบุฑูุง ูุญุท:** ูุฑฺฏุฒ ุงุทูุงุนุงุช ุญุณุงุณ ูุงููุฏ ฺฉูุฏูุง APIุ ุฑูุฒ ุนุจูุฑ ุฏุชุงุจุณ ู JWT secret ุฑุง ุฏุฑ ฺฉุฏ ูุฑุงุฑ ูุฏูุฏ ู ุงุฒ ูุงู `.env.production` (ุจุฑุง ูพุฑูุฏุงฺฉุดู) ู ูุชุบุฑูุง ูุญุท ุณุฑูุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ูุงู `.env.production` ูุจุงุฏ ุฏุฑ Git commit ุดูุฏ.
*   **ูุงุจุณุชฺฏโูุง:** ุจูโุทูุฑ ููุธู ูุงุจุณุชฺฏโูุง ูพุฑูฺู (npm packages) ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ (`npm update`).
*   **HTTPS:** ุฏุฑ ูุญุท ูพุฑูุฏุงฺฉุดู ุญุชูุงู ุงุฒ HTTPS ุงุณุชูุงุฏู ฺฉูุฏ (ุจุง ุงุณุชูุงุฏู ุงุฒ Let's Encrypt ุง ฺฏูุงู ุฏฺฏุฑ).
*   **PM2 Security:** ุงุฒ ูฺฺฏโูุง ุงููุช PM2 ูุงููุฏ `unmask` ู ุงุฌุฑุง ูุฑุขูุฏ ุจุง ฺฉุงุฑุจุฑ ุจุง ุฏุณุชุฑุณ ูุญุฏูุฏ ุงุณุชูุงุฏู ฺฉูุฏ.
*   **Firewall:** ูุงุฑูุงู ุณุฑูุฑ ุฎูุฏ (ูุงููุฏ `ufw`) ุฑุง ุจู ุฏุฑุณุช ูพฺฉุฑุจูุฏ ฺฉูุฏ ุชุง ููุท ูพูุฑุชโูุง ุถุฑูุฑ ุจุงุฒ ุจุงุดูุฏ.
*   **SQL Injection:** ููฺฏุงู ฺฉุงุฑ ุจุง ุฏุชุงุจุณุ ุงุฒ Prepared Statements ุง ORM ูุง ฺฉู ุงุฒ ุขู ูพุดุชุจุงู ูโฺฉููุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุฒ ุญููุงุช SQL Injection ุฌููฺฏุฑ ุดูุฏ. (ฺฉุชุงุจุฎุงูู `mysql2` ุงุฒ prepared statements ูพุดุชุจุงู ูโฺฉูุฏ).
*   **XSS (Cross-Site Scripting):** ููฺฏุงู ููุงุด ูุญุชูุง ุชููุฏ ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ (ูุงููุฏ ูุธุฑุงุช ุง ูพุงูโูุง)ุ ุงุฒ escape ฺฉุฑุฏู ููุงุณุจ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุญููุงุช XSS ุงุทููุงู ุญุงุตู ฺฉูุฏ.
*   **CSRF (Cross-Site Request Forgery):** ุจุฑุง ูุฑูโูุง ฺฉู ุนููุงุช ุญุณุงุณ ุงูุฌุงู ูโุฏููุฏ (ูุงููุฏ ุชุบุฑ ุฑูุฒ ุนุจูุฑ ุง ุญุฐู ุฏุงุฏู)ุ ุงุฒ ุชูฺฉูโูุง CSRF ุงุณุชูุงุฏู ฺฉูุฏ.

## ๐ ูพุดุชุจุงู

(ุฏุฑ ุงู ุจุฎุด ูโุชูุงูุฏ ุงุทูุงุนุงุช ุชูุงุณ ุง ููฺฉ ุจู ูุณุชูุฏุงุช ุจุดุชุฑ ุฑุง ูุฑุงุฑ ุฏูุฏ)

#   K a l a n o o . c o m  
 